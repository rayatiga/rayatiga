<!DOCTYPE html>
<!-- HTML Element -->
<html lang="en">
    <!-- Head Element -->
    <head>
        <!-- Title Element -->
        <title>Apache2 Benchmark Rayatiga Project</title>
        <!-- Meta Element (Charset: UTF-8; HTTP-equiv: X-UA-Compatible; Name: Viewport) -->
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Meta Element (Name: Title, Description, Author) -->
        <meta name="title" content="Apache2 Benchmark Rayatiga Project" />
        <meta name="description" content="Tool for benchmarking your apache2 based sites. Clone and enjoy bechmarking!" />
        <meta name="author" content="Rayatiga" />
        <!-- Meta Element (Property: Open Graph) -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://rayatiga.com/project/apache2-benchmark.html" />
        <meta property="og:title" content="Apache2 Benchmark Rayatiga Project" />
        <meta property="og:description" content="Tool for benchmarking your apache2 based sites. Clone and enjoy bechmarking!" />
        <meta property="og:image" content="https://rayatiga.com/asset/image/brand/rayatiga-og.png" />
        <!-- Link Element (Relationship: Stylesheet) -->
        <link rel="stylesheet" href="/asset/css/main.css" />
        <link rel="stylesheet" href="/asset/css/root.css" />
        <link rel="stylesheet" href="/asset/css/icon.css" />
        <link rel="stylesheet" href="/asset/css/prism.css" />
        <!-- Script Element (Type: Text/Javascript) -->
        <script defer type="text/javascript" src="/asset/js/main.js"></script>
        <script defer type="text/javascript" src="/asset/js/root.js"></script>
        <script defer type="text/javascript" src="/asset/js/template.js"></script>
        <script defer type="text/javascript" src="/asset/js/angular.min.js"></script>
        <script defer type="text/javascript" src="/asset/js/prism.js"></script>
        <!-- Link Element (Relationship: Apple Touch Icon, Icon, Manifest) -->
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/manifest.json" />
    </head>
    <!-- Body Element -->
    <body class="bg-light">
        <!-- Navigation Element -->
        <nav></nav>
        <!-- Header Element -->
        <header><div></div></header>
        <!-- Main Element -->
        <main>
            <div class="container bg-light text-center d-flex flex-column justify-content-center align-items-center single-page">
                <div class="container">
                    <div class="py-4">
                        <h1 class="fw-bold"><i class="icon icon-graph-up-arrow d-block"></i><span class="fw-lighter">Apache2</span> Benchmark.</h1>
                        <p>Tool for benchmarking your apache2 based sites. Clone and enjoy bechmarking!</p>
                        <!-- Pre Element (Apache2 Benchmark) -->
                        <pre class="pre-page" data-copy-state="copy">
<code class="language-bash">#!/bin/bash

# static color
RED=&#039;\033[0;31m&#039;
REDBOLD=&#039;\033[1;31m&#039;
GREEN=&#039;\e[0;32m&#039;
YELLOW=&#039;\e[0;33m&#039;
NC=&#039;\033[0m&#039;

# static background color
WHITEONRED=&#039;\e[1;41m&#039;
BGNC=&#039;\e[0m&#039;

# clear the screen
printf &quot;Clearing the terminal screen...&quot;
sleep 1
clear

# checking apache2-utils packages
printf &quot;\nChecking prerequisites first. Please wait...\n&quot;
sleep 0.7
REQUIRED_PKG=&quot;apache2-utils&quot;
PKG_OK=$(dpkg-query -W --showformat=&#039;${Status}\n&#039; $REQUIRED_PKG|grep &quot;install ok installed&quot;)
printf &quot;Checking for $REQUIRED_PKG: ${GREEN}$PKG_OK${NC}\n&quot;
if [ &quot;&quot; = &quot;$PKG_OK&quot; ]; then
printf &quot;No $REQUIRED_PKG. Setting up $REQUIRED_PKG. This sometime required a password.\n&quot;
sleep 1
sudo apt-get --yes install $REQUIRED_PKG 
# clear the screen
printf &quot;\nClearing the terminal screen...&quot;
sleep 1
clear
fi

# double check the packages
REQUIRED_PKG=&quot;apache2-utils&quot;
PKG_OK=$(dpkg-query -W --showformat=&#039;${Status}\n&#039; $REQUIRED_PKG|grep &quot;install ok installed&quot;)
if [ &quot;&quot; = &quot;$PKG_OK&quot; ]; then
printf &quot;${REDBOLD}Can&#039;t find/install $REQUIRED_PKG package(s). Please install manually.${NC}&quot;
exit 1;
fi

# delay 1 second
sleep 1

# ok if apache2-utils already installed
printf &quot;\nOK, $REQUIRED_PKG already installed in your system, now running the tools.\n&quot;

# cancelling information 1
printf &quot;NOTE: press ${REDBOLD}CTRL + C${NC} at anytime to exit this tool.\n&quot;
sleep 1

# loading the tools
printf &quot;\nLoading tools...\n&quot;
echo -ne &#039;=&gt;                      (4%)\r&#039;
sleep 0.1
echo -ne &#039;==&gt;                     (11%)\r&#039;
sleep 0.1
echo -ne &#039;===&gt;                    (17%)\r&#039;
sleep 0.1
echo -ne &#039;====&gt;                   (28%)\r&#039;
sleep 0.1
echo -ne &#039;=====&gt;                  (33%)\r&#039;
sleep 0.1
echo -ne &#039;=======&gt;                (49%)\r&#039;
sleep 0.1
echo -ne &#039;=============&gt;          (68%)\r&#039;
sleep 0.1
echo -ne &#039;===================&gt;    (84%)\r&#039;
sleep 0.2
echo -ne &#039;=====================&gt;  (96%)\r&#039;
sleep 0.2
echo -ne &#039;=======================&gt;(100%)\r&#039;
sleep 0.2
echo -ne &#039;completed.                    \r&#039;
sleep 0.5
echo -ne &#039;\n&#039;

# welcome
printf &quot;\nWelcome to Apache Bechmark Website!&quot;

# disclaimer and warning
printf &quot;\n\n${WHITEONRED}!!! PLESE READ CAREFULLY !!!${BGNC}&quot;
printf &quot;\n${RED}Please use this program for testing purposes only!&quot;
printf &quot;\nAny illegal activities (e.g. DDoS) will be processed by law. So, becareful!\n${NC}&quot;

# agreement
read -p &quot;Do you agree? (y/n): &quot; yn
case $yn in 
y|Y|yes|Yes|YEs|yEs|yES|YeS|YES ) printf &quot;Great, I appreciate that!&quot;;;
n|N|no|No|nO|NO ) printf &quot;OK then don&#039;t use this tool please :)\n\n&quot;; exit 1;;
* ) printf &quot;${RED}Invalid input, abort.\n${NC}&quot;; exit 1;;
esac
sleep 0.5

# ready to use
printf &quot;\n\nOK. Enough intro, let&#039;s input your request for bechmarking your site now.&quot;
printf &quot;\nThis program is build by ${RED}@bydzen @ (https://github.com/bydzen)\n\n${NC}&quot;
sleep 0.5

# number request
read -p &quot;Please input your request number: &quot; reqval
if ! [[ &quot;$reqval&quot; =~ ^[0-9]+$ ]] ; 
then exec &gt;&amp;2; printf &quot;${RED}error: Not a number!\n${NC}&quot;; exit 1
fi
if [ $reqval -gt 9999999 ]
then exec &gt;&amp;2; printf &quot;${RED}error: Too much requests!\n${NC}&quot;; exit 1
fi
sleep 0.5
printf &quot;Input: ${GREEN}$reqval request(s)${NC} saved.\n&quot;
sleep 0.5

# numnber of concurrent
read -p &quot;Please input your concurrent number: &quot; conval
if ! [[ &quot;$conval&quot; =~ ^[0-9]+$ ]] ; 
then exec &gt;&amp;2; printf &quot;${RED}error: Not a number!\n${NC}&quot;; exit 1
fi
if [ $conval -gt 9999999 ]
then exec &gt;&amp;2; printf &quot;${RED}error: Too much concurrents!\n${NC}&quot;; exit 1
fi
sleep 0.5
printf &quot;Input: ${GREEN}$conval concurrent(s)${NC} saved.\n&quot;
sleep 0.5

# is use http or https?
read -p &quot;Is your website using https/ssl enabled? (y/n): &quot; yn
case $yn in 
y|Y|yes|Yes|YEs|yEs|yES|YeS|YES ) procval=&quot;https://&quot;;;
n|N|no|No|nO|NO ) procval=&quot;http://&quot;;;
* ) printf &quot;${RED}Invalid input, abort.\n${NC}&quot;; exit 1;;
esac
sleep 0.5
printf &quot;Protocol: ${GREEN}$procval${NC} saved.\n&quot;
sleep 0.5

# domain or ip address destination
read -p &quot;Please input your ip/domain destination (e.g. yoursite.com): &quot; siteval
sleep 0.5
printf &quot;Destination: ${GREEN}$procval$siteval/${NC} saved.\n&quot;
sleep 0.5

# use log file (log-benchmark.txt)?
read -p &quot;Output log file? (y/n): &quot; yn
case $yn in 
y|Y|yes|Yes|YEs|yEs|yES|YeS|YES) sleep 0.5; logval=&quot;Yes&quot;; printf &quot;Using log: ${GREEN}Yes.${NC}\n&quot;; logfile=&quot; -e log-benchmark.txt &quot;;;
n|N|no|No|nO|NO ) sleep 0.5; logval=&quot;No&quot;; printf &quot;Using log: ${RED}No.${NC}\n&quot;; logfile=&quot; &quot;;;
* ) printf &quot;${RED}Invalid input, abort\n${NC}&quot;; exit 1;;
esac
sleep 0.5

# full generated information
printf &quot;\nExecuting apache benchmark as shown:\n&quot;
sleep 0.1
printf &quot;Number of request(s)    : $reqval\n&quot;
sleep 0.1
printf &quot;Number of concurrent(s) : $conval\n&quot;
sleep 0.1
printf &quot;Protocol                : $procval\n&quot;
sleep 0.1
printf &quot;Destination             : $siteval\n&quot;
sleep 0.1
printf &quot;Save log                : $logval\n&quot;
sleep 0.1
printf &quot;Result CLI              : ab -n $reqval -c $conval$logfile$procval$siteval/\n\n&quot;
sleep 0.1
read -p &quot;If the information is correct, confirm to perform benchmank execution. (y/n): &quot; yn
case $yn in 
y|Y|yes|Yes|YEs|yEs|yES|YeS|YES) ;;
n|N|no|No|nO|NO ) printf &quot;Abort.&quot;; exit 1;;
* ) printf &quot;${RED}Invalid input, abort.\n${NC}&quot;; exit 1;;
esac

# delay 1 second
sleep 1

# cancelling information 2
printf &quot;NOTE: press ${REDBOLD}CTRL + C${NC} for abort or cancel this request.\n\n&quot;
sleep 2

# loading to execute
printf &quot;Executing...\n&quot;
echo -ne &#039;=&gt;                      (4%)\r&#039;
sleep 0.1
echo -ne &#039;==&gt;                     (11%)\r&#039;
sleep 0.1
echo -ne &#039;===&gt;                    (17%)\r&#039;
sleep 0.1
echo -ne &#039;====&gt;                   (28%)\r&#039;
sleep 0.1
echo -ne &#039;=====&gt;                  (33%)\r&#039;
sleep 0.1
echo -ne &#039;=======&gt;                (49%)\r&#039;
sleep 0.1
echo -ne &#039;=============&gt;          (68%)\r&#039;
sleep 0.1
echo -ne &#039;===================&gt;    (84%)\r&#039;
sleep 0.2
echo -ne &#039;=====================&gt;  (96%)\r&#039;
sleep 0.2
echo -ne &#039;=======================&gt;(100%)\r&#039;
sleep 0.5
echo -ne &#039;                              \r&#039;
echo -ne &#039;\n&#039;

# delay 1 second
sleep 1

# execute command ab for apache2 benchmark 
ab -n $reqval -c $conval$logfile$procval$siteval/</code>
                    </pre>
                        <a class="btn btn-dark mt-3" href="https://github.com/rayatiga/apache2-benchmark/" rel="nofollow noopener noreferrer" target="_blank">Visit Repository</a>
                    </div>
                </div>
            </div>
        </main>
        <!-- Footer Element -->
        <footer></footer>
    </body>
</html>
